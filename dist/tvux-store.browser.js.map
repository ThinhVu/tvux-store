{
  "version": 3,
  "sources": ["../node_modules/@vue/devtools-api/lib/esm/env.js", "../node_modules/@vue/devtools-api/lib/esm/const.js", "../node_modules/@vue/devtools-api/lib/esm/time.js", "../node_modules/@vue/devtools-api/lib/esm/proxy.js", "../node_modules/@vue/devtools-api/lib/esm/index.js", "../src/devtools.ts", "../src/index.ts"],
  "sourcesContent": ["export function getDevtoolsGlobalHook() {\n    return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;\n}\nexport function getTarget() {\n    // @ts-ignore\n    return (typeof navigator !== 'undefined' && typeof window !== 'undefined')\n        ? window\n        : typeof global !== 'undefined'\n            ? global\n            : {};\n}\nexport const isProxyAvailable = typeof Proxy === 'function';\n", "export const HOOK_SETUP = 'devtools-plugin:setup';\nexport const HOOK_PLUGIN_SETTINGS_SET = 'plugin:settings:set';\n", "let supported;\nlet perf;\nexport function isPerformanceSupported() {\n    var _a;\n    if (supported !== undefined) {\n        return supported;\n    }\n    if (typeof window !== 'undefined' && window.performance) {\n        supported = true;\n        perf = window.performance;\n    }\n    else if (typeof global !== 'undefined' && ((_a = global.perf_hooks) === null || _a === void 0 ? void 0 : _a.performance)) {\n        supported = true;\n        perf = global.perf_hooks.performance;\n    }\n    else {\n        supported = false;\n    }\n    return supported;\n}\nexport function now() {\n    return isPerformanceSupported() ? perf.now() : Date.now();\n}\n", "import { HOOK_PLUGIN_SETTINGS_SET } from './const.js';\nimport { now } from './time.js';\nexport class ApiProxy {\n    constructor(plugin, hook) {\n        this.target = null;\n        this.targetQueue = [];\n        this.onQueue = [];\n        this.plugin = plugin;\n        this.hook = hook;\n        const defaultSettings = {};\n        if (plugin.settings) {\n            for (const id in plugin.settings) {\n                const item = plugin.settings[id];\n                defaultSettings[id] = item.defaultValue;\n            }\n        }\n        const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;\n        let currentSettings = Object.assign({}, defaultSettings);\n        try {\n            const raw = localStorage.getItem(localSettingsSaveId);\n            const data = JSON.parse(raw);\n            Object.assign(currentSettings, data);\n        }\n        catch (e) {\n            // noop\n        }\n        this.fallbacks = {\n            getSettings() {\n                return currentSettings;\n            },\n            setSettings(value) {\n                try {\n                    localStorage.setItem(localSettingsSaveId, JSON.stringify(value));\n                }\n                catch (e) {\n                    // noop\n                }\n                currentSettings = value;\n            },\n            now() {\n                return now();\n            },\n        };\n        if (hook) {\n            hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {\n                if (pluginId === this.plugin.id) {\n                    this.fallbacks.setSettings(value);\n                }\n            });\n        }\n        this.proxiedOn = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target.on[prop];\n                }\n                else {\n                    return (...args) => {\n                        this.onQueue.push({\n                            method: prop,\n                            args,\n                        });\n                    };\n                }\n            },\n        });\n        this.proxiedTarget = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target[prop];\n                }\n                else if (prop === 'on') {\n                    return this.proxiedOn;\n                }\n                else if (Object.keys(this.fallbacks).includes(prop)) {\n                    return (...args) => {\n                        this.targetQueue.push({\n                            method: prop,\n                            args,\n                            resolve: () => { },\n                        });\n                        return this.fallbacks[prop](...args);\n                    };\n                }\n                else {\n                    return (...args) => {\n                        return new Promise(resolve => {\n                            this.targetQueue.push({\n                                method: prop,\n                                args,\n                                resolve,\n                            });\n                        });\n                    };\n                }\n            },\n        });\n    }\n    async setRealTarget(target) {\n        this.target = target;\n        for (const item of this.onQueue) {\n            this.target.on[item.method](...item.args);\n        }\n        for (const item of this.targetQueue) {\n            item.resolve(await this.target[item.method](...item.args));\n        }\n    }\n}\n", "import { getTarget, getDevtoolsGlobalHook, isProxyAvailable } from './env.js';\nimport { HOOK_SETUP } from './const.js';\nimport { ApiProxy } from './proxy.js';\nexport * from './api/index.js';\nexport * from './plugin.js';\nexport * from './time.js';\nexport function setupDevtoolsPlugin(pluginDescriptor, setupFn) {\n    const descriptor = pluginDescriptor;\n    const target = getTarget();\n    const hook = getDevtoolsGlobalHook();\n    const enableProxy = isProxyAvailable && descriptor.enableEarlyProxy;\n    if (hook && (target.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__ || !enableProxy)) {\n        hook.emit(HOOK_SETUP, pluginDescriptor, setupFn);\n    }\n    else {\n        const proxy = enableProxy ? new ApiProxy(descriptor, hook) : null;\n        const list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];\n        list.push({\n            pluginDescriptor: descriptor,\n            setupFn,\n            proxy,\n        });\n        if (proxy)\n            setupFn(proxy.proxiedTarget);\n    }\n}\n", "// @ts-nocheck\nimport { setupDevtoolsPlugin, DevtoolsPluginApi } from '@vue/devtools-api'\nimport { App } from 'vue'\nimport { MyPluginData } from './data'\n\nexport function setupDevtools (app: App, data: MyPluginData) {\n  const stateType = 'Tvux Store Plugin state'\n  const inspectorId = 'tvux-store'\n  const timelineLayerId = 'tvux-store'\n\n  let devtoolsApi: DevtoolsPluginApi<{}>\n\n  let trackId = 0\n\n  const devtools = {\n    trackStart: (label: string) => {\n      const groupId = 'track' + trackId++\n\n      devtoolsApi.addTimelineEvent({\n        layerId: timelineLayerId,\n        event: {\n          time: Date.now(),\n          data: {\n            label\n          },\n          title: label,\n          groupId\n        }\n      })\n\n      return () => {\n        devtoolsApi.addTimelineEvent({\n          layerId: timelineLayerId,\n          event: {\n            time: Date.now(),\n            data: {\n              label,\n              done: true\n            },\n            title: label,\n            groupId\n          }\n        })\n      }\n    }\n  }\n\n  const pluginDescriptor = {\n    id: 'tvux-store-devtools-plugin',\n    label: 'Tvux Store Plugin',\n    packageName: 'tvux-store',\n    homepage: 'https://vuejs.org',\n    componentStateTypes: [\n      stateType\n    ],\n    app\n  }\n\n  const setupFn = api => {\n    devtoolsApi = api\n\n    api.on.inspectComponent((payload, context) => {\n      // payload.instanceData.state.push({\n      //   type: stateType,\n      //   key: '$hello',\n      //   value: data.message,\n      //   editable: false\n      // })\n      //\n      // payload.instanceData.state.push({\n      //   type: stateType,\n      //   key: 'time counter',\n      //   value: data.counter,\n      //   editable: false\n      // })\n    })\n\n    setInterval(() => {\n      api.notifyComponentUpdate()\n    }, 5000)\n\n    api.on.visitComponentTree((payload, context) => {\n      // const node = payload.treeNode\n      // if (payload.componentInstance.type.meow) {\n      //   node.tags.push({\n      //     label: 'meow',\n      //     textColor: 0x000000,\n      //     backgroundColor: 0xff984f\n      //   })\n      // }\n    })\n\n    api.addInspector({\n      id: inspectorId,\n      label: 'Tvux!',\n      icon: 'pets',\n    })\n\n    api.on.getInspectorTree((payload, context) => {\n      if (payload.inspectorId === inspectorId) {\n        payload.rootNodes = [\n          ...Object.keys(data).map(storeName => ({\n            id: storeName,\n            label: storeName\n          }))\n        ]\n      }\n    })\n\n    api.on.getInspectorState((payload, context) => {\n      if (payload.inspectorId === inspectorId) {\n        const storeName = payload.nodeId\n        const store = data[storeName]\n\n        const rawSection = []\n        const refSection = []\n        const computedSection = []\n        const functionSection = []\n\n        Object.keys(store).forEach(storeMemberName => {\n          const field = Reflect.get(store, storeMemberName)\n          const type = field.constructor.name\n          switch (type) {\n            case 'RefImpl':\n              refSection.push({\n                key: storeMemberName,\n                value: store[storeMemberName].value,\n                editable: false\n              })\n              break;\n            case 'ComputedRefImpl':\n              computedSection.push({\n                key: storeMemberName,\n                value: store[storeMemberName].value,\n                editable: false\n              })\n              break;\n            case 'Function':\n              functionSection.push({\n                key: storeMemberName,\n                value: store[storeMemberName],\n                editable: false\n              })\n              break;\n            default:\n              rawSection.push({\n                key: storeMemberName,\n                value: store[storeMemberName],\n                editable: false\n              })\n          }\n        })\n\n        payload.state = {\n          [`0. raw`]: rawSection,\n          [`1. ref`]: refSection,\n          [`2. computed`]: computedSection,\n          [`3. function`]: functionSection\n        }\n      }\n    })\n\n    // timeline event\n    api.addTimelineLayer({\n      id: timelineLayerId,\n      color: 0xff984f,\n      label: 'Awesome!'\n    })\n    window.addEventListener('click', event => {\n      // const groupId = 'group-1'\n      //\n      // devtoolsApi.addTimelineEvent({\n      //   layerId: timelineLayerId,\n      //   event: {\n      //     time: Date.now(),\n      //     data: {\n      //       label: 'group test'\n      //     },\n      //     title: 'group test',\n      //     groupId\n      //   }\n      // })\n      //\n      // devtoolsApi.addTimelineEvent({\n      //   layerId: timelineLayerId,\n      //   event: {\n      //     time: Date.now() + 10,\n      //     data: {\n      //       label: 'group test (event 2)',\n      //     },\n      //     title: 'group test',\n      //     groupId\n      //   }\n      // })\n      //\n      // devtoolsApi.addTimelineEvent({\n      //   layerId: timelineLayerId,\n      //   event: {\n      //     time: Date.now() + 20,\n      //     data: {\n      //       label: 'group test (event 3)',\n      //     },\n      //     title: 'group test',\n      //     groupId\n      //   }\n      // })\n    })\n  }\n\n  setupDevtoolsPlugin(pluginDescriptor, setupFn)\n\n  return devtools\n}\n", "// @ts-nocheck\nimport { App } from 'vue'\nimport { setupDevtools } from './devtools'\n\n// Our plugin\nconst data = {}\n\nexport default {\n  install (app: App, options = {}) {\n    let devtools: ReturnType<typeof setupDevtools>\n    if (process.env.NODE_ENV === 'development' || __VUE_PROD_DEVTOOLS__) {\n      devtools = setupDevtools(app, data)\n    }\n  },\n  create(name: string, store = {}) {\n    data[name] = store\n  },\n  list(scope, prop, val) {\n    if (!data[scope])\n      data[scope] = {}\n    data[scope][prop] = val\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
